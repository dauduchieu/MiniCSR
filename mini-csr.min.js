const MiniCSR={createApp({data:t,method:e={},computed:a={},mounted:o}){const r={},n=(t,e)=>{r[t]||(r[t]=[]),r[t].push(e)},s=()=>{for(const[e,o]of Object.entries(a))try{const a=o(i);t[e]!==a&&(t[e]=a,r[e]&&r[e].forEach((t=>t(a))))}catch(t){console.error(`Error computed '${e}':`,t)}},i=new Proxy(t,{set:(t,e,a)=>(t[e]!==a&&(t[e]=a,((t,e)=>{r[t]&&r[t].forEach((t=>t(e))),s()})(e,a)),!0)});return{mount:t=>{const a=document.querySelector(t);if(!a)return;const r=a.querySelectorAll("*");a.querySelectorAll("[data-for]").forEach((t=>{const a=t.getAttribute("data-for");if(!t.firstElementChild)return;const o=t.firstElementChild.cloneNode(!0),r=a=>{t.innerHTML="",a&&Array.isArray(a)&&a.forEach(((a,r)=>{const s=o.cloneNode(!0),c=t=>{if(t.startsWith("$")){const e=t.slice(1);return{value:i[e],source:"global",propName:e}}return void 0!==a[t]?{value:a[t],source:"local",propName:t}:void 0!==i[t]?{value:i[t],source:"global",propName:t}:{value:void 0,source:"none",propName:t}},l=t=>{const o=t.getAttribute("data-bind");if(o){const{value:e,source:a,propName:r}=c(o);void 0!==e&&(t.textContent=e,"global"===a&&n(r,(e=>t.textContent=e)))}Array.from(t.attributes).forEach((o=>{if(o.name.startsWith("data-bind:")){const e=o.name.replace("data-bind:",""),a=o.value,{value:r,source:s,propName:i}=c(a);void 0!==r&&(t.setAttribute(e,r),"global"===s&&n(i,(a=>t.setAttribute(e,a))))}if(o.name.startsWith("data-on:")){const n=o.name.replace("data-on:",""),s=o.value;t.addEventListener(n,(t=>{e[s]&&e[s](i,t,a,r)}))}}));const s=t.getAttribute("data-class");if(s){const[e,a]=s.split(":"),{value:o,source:r,propName:i}=c(a),l=a=>{a?t.classList.add(e):t.classList.remove(e)};void 0!==o&&(l(o),"global"===r&&n(i,l))}};l(s),s.querySelectorAll("*").forEach((t=>l(t))),t.appendChild(s)}))};r(i[a]),n(a,(t=>r(t)))})),r.forEach((t=>{if(t.closest("[data-for]"))return;const a=t.getAttribute("data-text");a&&(t.textContent=i[a],n(a,(e=>t.textContent=e)));const o=t.getAttribute("data-model");o&&(t.value=i[o],n(o,(e=>t.value=e)),t.addEventListener("input",(()=>i[o]=t.value)));const r=t.getAttribute("data-class");if(r){const[e,a]=r.split(":"),o=i[a],s=a=>{a?t.classList.add(e):t.classList.remove(e)};void 0!==o&&(s(o),n(a,s))}if(Array.from(t.attributes).forEach((a=>{if(a.name.startsWith("data-on:")&&t.addEventListener(a.name.replace("data-on:",""),(t=>e[a.value](i,t))),a.name.startsWith("data-bind:")){const e=a.value,o=a.name.replace("data-bind:","");t.setAttribute(o,i[e]),n(e,(e=>t.setAttribute(o,e)))}})),t.hasAttribute("data-show")){const e=t.getAttribute("data-show"),a=e=>t.style.display=e?"":"none";a(i[e]),n(e,a)}})),s(),o&&o()},state:i}},createRouter(t,e,a){const o=document.getElementById(e),r=async()=>{const e=window.location.hash.slice(1)||"/",r=t[e];if(r)try{const t=await fetch(r);if(!t.ok)throw new Error("Err");o.innerHTML=await t.text(),a&&a()}catch(t){o.innerHTML=`Error loading ${e}`}else o.innerHTML='<div class="p-4">404</div>'};window.addEventListener("hashchange",r),window.addEventListener("load",r)}};